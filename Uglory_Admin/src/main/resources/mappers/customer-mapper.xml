<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="customerMapper">

	<resultMap type="customer" id="customer_rm">
		<id property="customerNo" column="MEMBER_NO" />
		<result property="customerEmail" column="MEMBER_EMAIL" />
		<result property="customerName" column="MEMBER_NAME" />
		<result property="subscriptionFlag" column="S_CANCEL" />
		<result property="accountFlag" column="MEMBER_ST" />
	</resultMap>

	<!-- 전체 고객 목록 조회 -->
	<select id="selectAllCustomer" resultMap="customer_rm">
		SELECT MEMBER_NO, MEMBER_EMAIL, MEMBER_NAME, S_CANCEL, MEMBER_ST
		FROM MEMBER
		JOIN SUBS_ORDER USING(MEMBER_NO)
		WHERE MEMBER_ST = 'N'
	</select>



</mapper>
